<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
        <link rel="stylesheet" href="style1.css"/>
</head>
<body>
  
    <aside>
        <input type="text" id="Reg_No" placeholder="Reg No of Vehicle "/>
        <select id="options">
            <option value="Auto"> Auto</option>
            <option value="Car">Car</option>
            <option value="Truck">Truck</option>
            <option value=" Bus"> Bus</option> 
        </select>
          <input type="text" id="Driver" placeholder="Enter Driver Name"/>
          <select id="Available">
            <option value="Available"> Available</option>
            <option value="Unavailable">Unavailable</option>
        </select>
        <button onclick="createFleet()">Add Fleet</button>
    </aside>
<div class="main">
    <nav>
   <select id="category" onchange="category()">
            <option value="Auto"> Auto</option>
            <option value="Car">Car</option>
            <option value="Truck">Truck</option>
            <option value=" Bus"> Bus</option> 
        </select>

      <select id="status" onchange="filterr()">
            <option value="Available"> Available</option>
            <option value="Unavailable">Unavailable</option>
        </select>
        <button onclick="clearr()" id="filter">
            Clear Filter
        </button>
    </nav>
    <div id="container">

    </div>
    </div>
</body>
<script>
    const image="https://coding-platform.s3.amazonaws.com/dev/lms/tickets/5e80fcb6-3f8e-480c-945b-30a5359eb40e/JNmYjkVr3WOjsrbu.png";
    let Fleets =[];
    function createFleet(){
        const regno=document.getElementById("Reg_No").value;
        const category=document.getElementById("options").value;
         const Driver=document.getElementById("Driver").value;
          const Available=document.getElementById("Available").value;

       let fleet ={
           regno,
             category ,
              Driver,
               Available,
               image
       }
    Fleets.push(fleet);
    renderFleet(Fleets);
        document.getElementById("Reg_No").value =" ";
        document.getElementById("Driver").value=" ";
    }

    function  renderFleet(Fleets){
        const container = document.querySelector("#container");
       container.innerHTML=" "
        Fleets.forEach((fleet)=>{
          const card=document.createElement("div");
          card.className="card"
         const  regno = document.createElement("h3");
         regno.textContent=`Regno: ${fleet. regno}`;
           
         const  category = document.createElement("h3");
         category.textContent=`  category : ${fleet.category}`;
          
          const   Driver = document.createElement("h3");
        Driver.textContent=`  Driver : ${fleet.Driver}`;
           
           const    Available = document.createElement("h3");
         Available.textContent=`Available : ${fleet.Available}`;

           const   image = document.createElement("img");
         image.src=fleet.image;
          image.width="300"

         const update = document.createElement("button");
         update.textContent="Update Driver"
         update.addEventListener("click",()=>{
           Driver.textContent=  `Driver : `+prompt("Enter Drivername")
         })


           const status = document.createElement("button");
             status.textContent="Change Availablity"
          status.addEventListener("click",()=>{
            console.log(fleet.Available );
             if(  fleet.Available  === "Available"){
                fleet.Available = "Unavailable";
                Available.textContent = `Available : ${fleet.Available}`
                 console.log(fleet.Available );
             }
             else{
                 fleet.Available = "Available";
                Available.textContent = `Available : ${fleet.Available}`
             }
             console.log("Hello");
         })
             const deletee = document.createElement("button");
         deletee.textContent="Delete Vehicle";

         deletee.addEventListener("click",()=>{
            card.remove();
         })
         card.append(image, regno ,  category,   Driver, Available,update,status,deletee);
         console.log(card);
         container.appendChild(card);
        })
        
         
    }
function filterr(){
    const Available=document.getElementById("status").value;
            const filteredArr = Fleets.filter((fleet)=>{
              if(fleet.Available===Available){
                return fleet;
              }
            })
            renderFleet(filteredArr);
}
function clearr(){
    renderFleet(Fleets);
    console.log("Hello");
}
    function category(){

            const category=document.getElementById("category").value;
            const filteredArr = Fleets.filter((fleet)=>{
              if(fleet.category===category){
                return fleet;
              }
            })
            renderFleet(filteredArr);
    }
</script>
</html>